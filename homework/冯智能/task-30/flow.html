<!DOCTYPE html>
<html>
<head>
	<title></title>
	<meta charset="utf-8">
	<style type="text/css">

		.h1{
			height: 250px;
			background-color: green;
		}
		.h2{
			height: 300px;
			background-color: red;
		}
		.h3{
			height: 350px;
			background-color: yellow;
		}
		.item{
			width: 180px;
			margin-top: 15px;
			margin-right: 15px;
			position: absolute;
			transition: all 1s; 
		}
		.content{
			position: relative;
		}


	</style>
	<script type="text/javascript" src="http://apps.bdimg.com/libs/jquery/1.9.1/jquery.min.js"></script>
	<script type="text/javascript">
		$(function(){
			function change(){
			var itemW = $('.item').outerWidth(true), 
					// itemH = $('.item').outerHeight(true),
			    colnum = parseInt($(window).width()/itemW),
			    arry = [];
			    for(var a=0;a<colnum;a++){
	    	 		arry[a]=0;
			    }
			    $('.item').each(function(){
			    	var idx = 0,
			    			minNum = arry[0],
			    			$cur = $(this);

			    	for (var i = 0; i < arry.length; i++) {
			    				if (minNum>arry[i]) {
			    					minNum = arry[i];
			    					idx = i;
			    				}
			    			}
			    			arry[idx]+=$cur.outerHeight(true);
			    			$cur.css({
			    				left:itemW*idx,
			    				top:minNum
			    			})
			    })
			  }
			  change();

			  $(window).on('resize',function(){
			  	change();
			  })

		})
		
	</script>
</head>
<body>
<div class="content">
	<div class="item h1">1</div>
	<div class="item h3">2</div>
	<div class="item h3">3</div>
	<div class="item h2">4</div>
	<div class="item h1">5</div>
	<div class="item h3">6</div>
	<div class="item h2">7</div>
	<div class="item h1">8</div>
	<div class="item h2">9</div>
	<div class="item h2">10<div>
	<div class="item h1">11</div>
	<div class="item h3">12</div>
	<div class="item h3">13</div>
	<div class="item h2">14</div>
	<div class="item h1">15</div>
	<div class="item h1">16</div>
	<div class="item h1">17</div>
</div>
</body>
</html>